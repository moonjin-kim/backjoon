## 207. Course Schedule

```java
class Solution {
    public boolean canFinish(int numCourses, int[][] prerequisites) {
        boolean[] attended = new boolean[numCourses];
        List<List<Integer>> graph = new ArrayList();
        for (int i = 0; i < numCourses; i++) {
            graph.add(new ArrayList());
        }

        for (int[] pre : prerequisites)
            graph.get(pre[1]).add(pre[0]);

        boolean[] visited = new boolean[numCourses];

        for(int i = 0; i < numCourses; i++) {
            if(!visited[i]&&dfs(graph,attended,visited,i)) return false;
        }

        return true;
    }

    public boolean dfs(List<List<Integer>> graph, boolean[] attended, boolean[] visited, int preCourse) {
        visited[preCourse] = attended[preCourse] = true;

        boolean isPreCourse = true;
        for(int course: graph.get(preCourse)) {
            if(!visited[course] && dfs(graph,attended, visited, course)) return true;
            else if(attended[course]) return true;
        }

        attended[preCourse] = false;
        return false;
    }
}
```
