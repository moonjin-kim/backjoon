## 208. Course Schedule 2

```java
class Solution {
    public int[] findOrder(int numCourses, int[][] prerequisites) {
        
        boolean[] attended = new boolean[numCourses];
        List<List<Integer>> graph = new ArrayList();
        for (int i = 0; i < numCourses; i++) {
            graph.add(new ArrayList());
        }

        for (int[] pre : prerequisites)
            graph.get(pre[0]).add(pre[1]);

        ArrayList<Integer> visitedOrder = new ArrayList();
        boolean[] visited = new boolean[numCourses];

        for(int i = 0; i < numCourses; i++) {
            if(!visited[i]&&dfs(graph,visitedOrder,attended,visited,i)) return new int[0];
        }

        return visitedOrder.stream()
                .mapToInt(i -> i)
                .toArray();
    }

    public boolean dfs(List<List<Integer>> graph, List<Integer> visitedOrder, boolean[] attended, boolean[] visited, int preCourse) {
        visited[preCourse] = attended[preCourse] = true;

        boolean isPreCourse = true;
        for(int course: graph.get(preCourse)) {
            if(!visited[course] && dfs(graph,visitedOrder,attended, visited, course)){ 
                return true;
            }else if(attended[course]) {
                return true;
            }
        }
        visitedOrder.add(preCourse);
        attended[preCourse] = false;
        return false;
    }
}

```
