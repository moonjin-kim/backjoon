## 경주로 건설

```java
import java.util.*;

class Solution {
    public int solution(int[][] board) {
        return bfs(board);
    }
    
    public int bfs(int[][] board) {
        int xLen = board[0].length;
        int yLen = board.length;
        int[][] dir = new int[][]{{0,1}, {0, -1}, {1, 0}, {-1, 0}};
        int[][][] visited = initVisited(board);
        Queue<Node> queue = new LinkedList();
        queue.add(new Node(0,0,0,0));
        int min = Integer.MAX_VALUE;
        
        while(!queue.isEmpty()) {
            Node cur = queue.poll();
            
            if(cur.x == xLen - 1 && cur.y == yLen - 1) {
                min = Math.min(min, cur.cost);
                continue;
            }
            
            for(int i = 0; i < 4; i++) {
                int nextX = cur.x + dir[i][0];
                int nextY = cur.y + dir[i][1];
                
                // 좌표가 범위를 벗어나는지 여부 확인
                if(nextX < 0 || nextX >= xLen) continue;
                if(nextY < 0 || nextY >= yLen) continue;
                // 좌표가 벽인지 확인
                if(board[nextY][nextX] == 1) continue;
                
                // 진행 방향이 다르면 500원 추가
                int cost = 100;
                if(i != cur.dir) cost += 500;
                
                // 출발지면 방향상관없이 100원
                if(cur.x == 0 && cur.y == 0) cost = 100;
                
                // 해당 좌표를 다음 방향으로 온 최소값 비교
                if(visited[nextY][nextX][i] < cur.cost + cost) continue;
                
                queue.add(new Node(nextX, nextY, cur.cost + cost, i));
                visited[nextY][nextX][i] = cur.cost + cost;
            }
        }
        
        return min;
    }
    
    public int[][][] initVisited(int[][] board) {
        int xLen = board[0].length;
        int yLen = board.length;
        int[][][] visited = new int[yLen][xLen][4];
        
        for(int i = 0; i < yLen; i++) {
            for(int j = 0; j < xLen; j++) {
                for(int k = 0; k < 4; k++) {
                    visited[i][j][k] = Integer.MAX_VALUE;
                }
            }
        }
        
        visited[0][0][0] = 0;
        visited[0][0][1] = 0;
        visited[0][0][2] = 0;
        visited[0][0][3] = 0;
        
        return visited;
    }
}

class Node {
    public int x;
    public int y;
    public int cost;
    public int dir;
    
    public Node(int x, int y, int cost, int dir) {
        this.x = x;
        this.y = y;
        this.cost = cost;
        this.dir = dir;
    }
}
```
